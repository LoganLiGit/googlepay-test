<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>googlePay</title>
  </head>

  <body>
    <div id="google-pay"></div>
  </body>

  <script src="./pay.js"></script>

  <script>
    const googlePayParams = {
      // 按鈕ID
      googlePayButtonID: "google-pay",
      // 開發環境或者產品環境
      environment: "TEST", // TEST || PRODUCTION,
      // 允許的卡片，中信收單僅允許 VISA、MASTER 卡
      allowedCardNetworks: [
        //"AMEX",
        //"DISCOVER",
        //"INTERAC",
        //"JCB",
        "MASTERCARD",
        "VISA",
      ],
      // 允許的卡片驗證方法，中信收單僅允許CRYPTOGRAM_3DS
      allowedCardAuthMethods: ["CRYPTOGRAM_3DS"],
      // 通道
      parameters: {
        gateway: "ctbcbank",
        gatewayMerchantId: "8220200000054",
      },
      //parameters: {
      //  gateway: "nccc",
      //  gatewayMerchantId: "0130800048",
      //},
      // 商家
      merchantInfo: {
        merchantName: "OO線上商城",
        merchantId: "TV2503131781",
      },
      // 付款資訊
      transactionInfo: {
        // countryCode: "TW",
        currencyCode: "TWD",
        totalPriceStatus: "FINAL",
        totalPrice: "101.00",
        // totalPriceLabel: "合計",
      },
      // googlePay 按鈕設定
      googlePayButtonOptions: {
        buttonColor: "white", // default, black, white
        buttonType: "pay", // book, buy, checkout, donate, order, pay, plain, subscribe
        buttonLocale: "en", // en, ar, bg, ca, cs, da, de, el, es, et, fi, fr, hr, id, it, ja, ko, ms, nl, no, pl, pt, ru, sk, sl, sr, sv, th, tr, uk, zh
        buttonSizeMode: "static", // static, fill
      },
    };
    const sdk = new paySDK();
    // 設定googlePay參數
    sdk.setGooglePay(googlePayParams);
    sdk.setGoogleCallback(getNetworkToken);
    // 取得paymentToken 傳付款資訊到後端
    function getNetworkToken(paymentToken) {
      console.log("paymentToken", paymentToken);
      // TODO
    }
  </script>
</html>
